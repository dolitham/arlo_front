<link href="https://fonts.googleapis.com/css?family=Alegreya+Sans|Roboto|Comfortaa" rel="stylesheet">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

<!--<div *ngFor="let trans of transactions; index as i; first as isFirst">-->
<!--<span *ngIf="isFirst">{{trans.cycle}}</span>-->
<!--</div>-->

<mat-expansion-panel [expanded]="false">
  <mat-expansion-panel-header>
    <mat-panel-title>
      <i class="fas fa-edit"></i>
    </mat-panel-title>

  </mat-expansion-panel-header>

  <div >
    <app-set-fields [transactions]="selectedTransactions"></app-set-fields>
  </div>

  <div >
    <mat-slide-toggle [(ngModel)]="hideLinked" (change)="onHideLinkedChange()" color="primary">
      Hide Linked Transactions
    </mat-slide-toggle>
  </div>
  <div >
    <span class="right">
      <app-fetch-transactions></app-fetch-transactions>
    </span>
    <span class="left">
      <app-recurring-transactions class="recurring"></app-recurring-transactions>
    </span>
  </div>

</mat-expansion-panel>

<div>
<ul class="transactions">
  <li *ngFor="let transaction of transactions"
      [class.selected]="selectedTransactions.includes(transaction)"
    (click)="onClick(transaction)" (contextmenu)="onRightClick(transaction)">

    <span class="name" [ngClass]="transaction.linked?'linked':'name'">
      <span [ngSwitch]="transaction.method" class="method-symbol">
        <span *ngSwitchCase="'card'"><i class="far fa-credit-card"></i> </span>
        <span *ngSwitchCase="'transfer'"><i class="far fa-exchange-alt"></i></span>
        <span *ngSwitchCase="'cash'"><i class="far fa-coins"></i></span>
        <span *ngSwitchCase="'hotel'"><i class="fas fa-concierge-bell"></i></span>
        <span *ngSwitchCase="'fict'"><i class="fas fa-credit-card"></i> </span>
        <span *ngSwitchCase="'-'"><i class="fas fa-question"></i></span>
        &nbsp;
      </span>

      <span *ngIf="transaction.pending;then hourglass"> </span>

      <ng-template #hourglass>
            <i class="far fa-hourglass"></i> &nbsp;
      </ng-template>
       {{transaction.name }}
    </span>

    <span class="amount" [ngClass]="transaction.amount<0?'negative':'positive'">
      <span *ngIf="transaction.originalAmount;then original"> </span>
      <ng-template #original>
          <span class="originalAmount">
            ({{ transaction.originalAmount | currency:transaction.originalCurrency:'symbol-narrow' }})
          </span>
      </ng-template>

      {{transaction.amount | currency:'EUR':'symbol-narrow'}}
    </span>


    <span class="category" [ngClass]="getCategoryStyleClass(transaction)">{{transaction.category}}</span>
  </li>
</ul>
</div>
